angular.module("UI.Scrollspy",[]),angular.module("UI.Scrollspy").service("ScrollspyService",[function(){var a=[],b=-1,c="";this.process=function(b){a.push(b)},this.activate=function(a){try{angular.element(a).addClass("active");var b=angular.element(a).attr("id");b&&angular.forEach(document.getElementsByTagName("a"),function(a){angular.element(a).attr("href")==="#"+b&&angular.element(a).parent().addClass("active")})}catch(c){}},this.deactivate=function(a){try{angular.element(a).removeClass("active");var b=angular.element(a).attr("id");b&&angular.forEach(document.getElementsByTagName("a"),function(a){angular.element(a).attr("href")==="#"+b&&angular.element(a).parent().removeClass("active")})}catch(c){}},angular.element(window).bind("scroll",function(){if(0!==a.length){var d=window.scrollY+window.screen.height/3,e=a.length;-1!==b&&d<a[b].offsetTop&&(e=b);for(var f=e;f--;)if(d>=a[f].offsetTop){if(c===a[f].target)break;-1!==b&&a[b].$apply(function(){a[b].isActive=!1}),a[f].$apply(function(){a[f].isActive=!0}),c=a[f].target,b=f;break}}}).triggerHandler("scroll")}]),angular.module("UI.Scrollspy").controller("ScrollspyController",["$scope","ScrollspyService",function(a,b){a.target="",a.isActive=!1,a.offsetTop=0,b.process(a),a.$watch("isActive",function(){a.isActive?b.activate(a.target):b.deactivate(a.target)})}]),angular.module("UI.Scrollspy").directive("uiScrollspy",["ScrollspyService",function(){"use strict";return{controller:"ScrollspyController",scope:{target:"=?",isActive:"=?",offsetTop:"=?"},link:function(a,b,c,d){d&&(a.isActive=b.hasClass("active"),a.target=b[0],a.offsetTop=b[0].offsetTop)}}}]),angular.module("UI.Scrollspy").directive("uiScrollspyTab",["$location","$anchorScroll","ScrollspyService",function(a,b){"use strict";return{link:function(c,d,e){d.on("click",function(c){c.preventDefault(),c.stopPropagation();var d=e.href.replace("#","");a.hash(d),b()})}}}]);